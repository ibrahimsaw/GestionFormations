{% extends "base.html" %}
{% block content %}
<h3>Historique de {{ utilisateur.iget_full_name }}</h3>

<table class="table table-sm table-bordered mt-3">
  <thead>
    <tr>
      <th>Date</th>
      <th>Type</th>
      <th>Par</th>
      <th>Détails</th>
    </tr>
  </thead>
  <tbody>
    {% for h in historique %}
    <tr>
      <td>{{ h.history_date|date:"d/m/Y H:i" }}</td>
      <td>
        {% if h.history_type == "+" %}Création
        {% elif h.history_type == "~" %}Modification
        {% elif h.history_type == "-" %}Suppression
        {% endif %}
      </td>
      <td>{{ h.history_user.iget_full_name|default:"-" }}</td>
      <td>{{ h }}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4">Aucune modification enregistrée.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<a href="#" class="btn btn-secondary mt-3">⬅ Retour à la liste</a>
{% endblock %}
