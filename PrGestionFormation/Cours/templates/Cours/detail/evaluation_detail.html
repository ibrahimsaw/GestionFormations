{% extends 'base.html' %}
{% load static %}
{% load form_tags %}

{% block content %}
<div class="col-xl-12">

  <div class="row g-3 mb-4 align-items-center justify-content-between">
    {% include "nav_ol.html" %}
  </div>

  {% if evaluation %}
  <div class="card mb-4">
    <div class="tab-content">
      <div class="tab-pane fade show active">

        <div class="text-center">
          <div class="alert bg-primary">
            <h5 class="mb-0 text-white">
              Détail de l'Évaluation : {{ evaluation.titre }}
            </h5>
          </div>
        </div>

        <div class="float-end">
          <a href="{% url 'cours:evaluation_update' pk=evaluation.pk %}"
             class="btn btn-success btn-sm">
            <i class="bx bx-edit me-1"></i>
            <span class="d-none d-sm-inline">Modifier</span>
          </a>

          <a href="{% url 'cours:evaluation_delete' pk=evaluation.pk %}"
             class="btn btn-danger btn-sm">
            <i class="bx bx-trash me-1"></i>
            <span class="d-none d-sm-inline">Supprimer</span>
          </a>
        </div>

        <table class="table table-hover">
          <tbody>

            <tr>
              <th><i class="bx bx-book-open me-1 text-primary"></i> Titre</th>
              <td>{{ evaluation.titre }}</td>
            </tr>

            <tr>
              <th><i class="bx bx-category-alt me-1 text-primary"></i> Type</th>
              <td>{{ evaluation.get_type_display }}</td>
            </tr>

            <tr>
              <th><i class="bx bx-calendar me-1 text-primary"></i> Date</th>
              <td>{{ evaluation.date|date:"d/m/Y" }}</td>
            </tr>

            <tr>
              <th><i class="bx bx-book me-1 text-primary"></i> Matière</th>
              <td>{{ evaluation.matiereclasse.matiere }}</td>
            </tr>

            <tr>
              <th><i class="bx bx-group me-1 text-primary"></i> Classe</th>
              <td>{{ evaluation.matiereclasse.classe }}</td>
            </tr>

            <tr>
              <th><i class="bx bx-check-shield me-1 text-primary"></i> Statut</th>
              <td>
                {% if evaluation.est_actif %}
                <span class="badge bg-success">
                  <i class="bx bx-check-circle"></i> Active
                </span>
                {% else %}
                <span class="badge bg-danger">
                  <i class="bx bx-x-circle"></i> Inactive
                </span>
                {% endif %}
              </td>
            </tr>

          </tbody>
        </table>

      </div>
    </div>
  </div>

  <!-- Boutons flottants -->
  <div class="fixed-action-buttons">
    <div class="btn-group-vertical shadow-lg">

      <a href="{% url 'cours:evaluation_create' %}" class="btn btn-add mb-2">
        <i class="bx bx-plus me-2"></i>
        <span class="d-none d-sm-inline">Ajouter</span>
      </a>

      <a href="{% url 'cours:evaluation_list' %}" class="btn btn-list">
        <i class="bx bx-list-ul me-2"></i>
        <span class="d-none d-sm-inline">Listes</span>
      </a>

    </div>
  </div>

  {% else %}
  <div class="card mb-4">
    <div class="tab-content">
      <div class="tab-pane fade show active">
        <div class="alert alert-info">
          Aucune évaluation trouvée.
        </div>
      </div>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}
